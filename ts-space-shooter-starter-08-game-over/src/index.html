<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Shooter</title>
</head>
<body>
    <label id="hiddenScoreField"></label>
    <div id="highscoreInput">
        <label>Please enter credentials consisting of three letters: </label><br/>
        <input type="text" id="name" maxlength="3">
        <button id="nameButton" onclick="addHighscore()">Enter</button>
    </div>
    <div id="highscoreOutput">
        Highscore Table:
        <table id="highscoreTable">
            <tr>
                <th>Name</th>
                <th>Score</th>
            </tr>
            <tr>
                <td>abc</td>
                <td>1</td>
              </tr>
        </table>
    </div>
</body>

<script>
    var highscoreList = [];
    function addHighscore() {
        document.getElementById("highscoreInput").style.visibility = "hidden";
        highscoreList.push({name: document.getElementById("name").value, score: document.getElementById("hiddenScoreField").textContent})
        console.log(highscoreList);
        console.log(document.getElementById("name").value);
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
            // Typical action to be performed when the document is ready:
            console.log("resp", xhttp.responseText);
            
            document.getElementById("highscoreOutput").style.visibility = "visible";
            //document.getElementById("demo").innerHTML = xhttp.responseText;
            var tableRef = document.getElementById('highscoreTable').getElementsByTagName('tbody')[0];

            // Insert a row in the table at the last row
            var newRow   = tableRef.insertRow();

            // Insert a cell in the row at index 0
            var newCell  = newRow.insertCell(0);

            // Append a text node to the cell
            var newText  = document.createTextNode('asdf');
            newCell.appendChild(newText);

            var newCell  = newRow.insertCell(1);
            var newText  = document.createTextNode('10');
            newCell.appendChild(newText);
            }
        };
        xhttp.open("GET", "", true);
        xhttp.send();
    }
</script>
</html>